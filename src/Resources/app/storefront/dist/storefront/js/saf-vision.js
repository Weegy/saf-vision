"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["saf-vision"],{6727:(t,e,s)=>{var i=s(6285);class n extends i.Z{init(){var t,e=document.getElementsByClassName("product-accordion");for(t=0;t<e.length;t++)e[t].addEventListener("click",(function(){this.classList.toggle("active");var t=this.nextElementSibling;"block"===t.style.display?t.style.display="none":t.style.display="block"}))}}var o=s(838);class a extends o.Z{_isInAllowedViewports(){return!1}}var r=s(606);class l extends r.Z{_handleResponse(t){const e=JSON.parse(t);if(this.$emitter.publish("onFormResponse",t),e.length>0){let t=!0,s="";for(let i=0;i<e.length;i+=1)"danger"!==e[i].type&&"info"!==e[i].type||(t=!1),s+=e[i].alert;document.getElementById("saf-vision-form").style.display="none",this._createResponse(t,s)}else window.location.reload()}}const c=window.PluginManager;c.register("SafVisionPlugin",n),c.override("OffCanvasTabs",a,"[data-offcanvas-tabs]"),c.override("FormCmsHandler",l,".cms-element-form form")},606:(t,e,s)=>{s.d(e,{Z:()=>l});var i,n,o,a=s(6285),r=s(8254);class l extends a.Z{init(){this._client=new r.Z,this._getButton(),this._getHiddenSubmit(),this._registerEvents(),this._getCmsBlock(),this._getConfirmationText()}sendAjaxFormSubmit(){const{_client:t,el:e,options:s}=this,i=new FormData(e);t.post(e.action,i,this._handleResponse.bind(this),s.contentType)}_registerEvents(){this.el.addEventListener("submit",this._handleSubmit.bind(this)),this._button&&(this._button.addEventListener("submit",this._handleSubmit.bind(this)),this._button.addEventListener("click",this._handleSubmit.bind(this)))}_getConfirmationText(){const t=this.el.querySelector('input[name="confirmationText"]');t&&(this._confirmationText=t.value)}_getButton(){this._button=this.el.querySelector("button")}_getCmsBlock(){this._block=this.el.closest(this.options.cmsBlock)}_getHiddenSubmit(){this._hiddenSubmit=this.el.querySelector(this.options.hiddenSubmitSelector)}_handleSubmit(t){t.preventDefault(),this.el.checkValidity()?this._submitForm():this._showValidation()}_showValidation(){this._hiddenSubmit.click()}_submitForm(){this.$emitter.publish("beforeSubmit"),this.sendAjaxFormSubmit()}_handleResponse(t){const e=JSON.parse(t);if(this.$emitter.publish("onFormResponse",t),e.length>0){let t=!0,s="";for(let i=0;i<e.length;i+=1)"danger"!==e[i].type&&"info"!==e[i].type||(t=!1),s+=e[i].alert;this._createResponse(t,s)}else window.location.reload()}_createResponse(t,e){if(t)this._confirmationText&&(e=this._confirmationText),this._block.innerHTML=`<div class="confirm-message">${e}</div>`;else{const t=this._block.querySelector(".confirm-alert");t&&t.remove();const s=`<div class="confirm-alert">${e}</div>`;this._block.insertAdjacentHTML("beforeend",s)}this._block.scrollIntoView({behavior:"smooth",block:"end"})}}i=l,o={hiddenClass:"d-none",hiddenSubmitSelector:".submit--hidden",formContentSelector:".form-content",cmsBlock:".cms-block",contentType:"application/x-www-form-urlencoded"},(n=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var i=s.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(n="options"))in i?Object.defineProperty(i,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[n]=o},838:(t,e,s)=>{s.d(e,{Z:()=>f});var i,n,o,a=s(3206),r=s(3637),l=s(7474),c=s(6285);class f extends c.Z{init(){this._registerEventListeners()}_registerEventListeners(){this.el.addEventListener("click",this._onClickOffCanvasTab.bind(this))}_onClickOffCanvasTab(t){if(!1===this._isInAllowedViewports())return;t.preventDefault();const e=t.currentTarget;if(a.Z.hasAttribute(e,"href")){const t=a.Z.getAttribute(e,"href"),s=a.Z.querySelector(document,t);r.Z.open(s.innerHTML,(()=>{window.PluginManager.initializePlugins()}),this.options.offcanvasPostion,!0,r.Z.REMOVE_OFF_CANVAS_DELAY(),!0)}this.$emitter.publish("onClickOffCanvasTab")}_isInAllowedViewports(){return l.Z.isXS()}}i=f,o={offcanvasPostion:"right"},(n=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var i=s.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(n="options"))in i?Object.defineProperty(i,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[n]=o},3637:(t,e,s)=>{s.d(e,{Z:()=>f,r:()=>c});var i=s(9658),n=s(2005),o=s(1966);const a="offcanvas",r=350;class l{constructor(){this.$emitter=new n.Z}open(t,e,s,i,n,o,a){this._removeExistingOffCanvas();const r=this._createOffCanvas(s,o,a,i);this.setContent(t,i,n),this._openOffcanvas(r,e)}setContent(t,e,s){const i=this.getOffCanvas();i[0]&&(i[0].innerHTML=t,this._registerEvents(s))}setAdditionalClassName(t){this.getOffCanvas()[0].classList.add(t)}getOffCanvas(){return document.querySelectorAll(`.${a}`)}close(t){const e=this.getOffCanvas();o.Z.iterate(e,(t=>{bootstrap.Offcanvas.getInstance(t).hide()})),setTimeout((()=>{this.$emitter.publish("onCloseOffcanvas",{offCanvasContent:e})}),t)}goBackInHistory(){window.history.back()}exists(){return this.getOffCanvas().length>0}_openOffcanvas(t,e){l.bsOffcanvas.show(),window.history.pushState("offcanvas-open",""),"function"==typeof e&&e()}_registerEvents(t){const e=i.Z.isTouchDevice()?"touchend":"click",s=this.getOffCanvas();o.Z.iterate(s,(e=>{const i=()=>{setTimeout((()=>{e.remove(),this.$emitter.publish("onCloseOffcanvas",{offCanvasContent:s})}),t),e.removeEventListener("hide.bs.offcanvas",i)};e.addEventListener("hide.bs.offcanvas",i)})),window.addEventListener("popstate",this.close.bind(this,t),{once:!0});const n=document.querySelectorAll(".js-offcanvas-close");o.Z.iterate(n,(s=>s.addEventListener(e,this.close.bind(this,t))))}_removeExistingOffCanvas(){l.bsOffcanvas=null;const t=this.getOffCanvas();return o.Z.iterate(t,(t=>t.remove()))}_getPositionClass(t){return"left"===t?"offcanvas-start":"right"===t?"offcanvas-end":`offcanvas-${t}`}_createOffCanvas(t,e,s,i){const n=document.createElement("div");if(n.classList.add(a),n.classList.add(this._getPositionClass(t)),!0===e&&n.classList.add("is-fullwidth"),s){const t=typeof s;if("string"===t)n.classList.add(s);else{if(!Array.isArray(s))throw new Error(`The type "${t}" is not supported. Please pass an array or a string.`);s.forEach((t=>{n.classList.add(t)}))}}return document.body.appendChild(n),l.bsOffcanvas=new bootstrap.Offcanvas(n,{backdrop:!1!==i||"static"}),n}}const c=Object.freeze(new l);class f{static open(t,e=null,s="left",i=!0,n=350,o=!1,a=""){c.open(t,e,s,i,n,o,a)}static setContent(t,e=!0,s=350){c.setContent(t,e,s)}static setAdditionalClassName(t){c.setAdditionalClassName(t)}static close(t=350){c.close(t)}static exists(){return c.exists()}static getOffCanvas(){return c.getOffCanvas()}static REMOVE_OFF_CANVAS_DELAY(){return r}}}},t=>{t.O(0,["vendor-node","vendor-shared"],(()=>{return e=6727,t(t.s=e);var e}));t.O()}]);