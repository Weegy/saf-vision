{% sw_extends '@Storefront/storefront/page/product-detail/tabs.html.twig' %}
{% block page_product_detail_tabs_inner %}
	<div class="card card-tabs col-lg-8">
		{% block page_product_detail_tabs_navigation %}
			<div class="card-header product-detail-tab-navigation">
				{% block page_product_detail_tabs_navigation_container %}
					<ul class="nav nav-tabs product-detail-tab-navigation-list" id="product-detail-tabs" role="tablist">
						{% block page_product_detail_tabs_navigation_description %}
							<li class="nav-item">
								<a class="nav-link active product-detail-tab-navigation-link" id="description-tab" {{ dataBsToggleAttr }}="tab" data-offcanvas-tabs="false" href="#description-tab-pane" role="tab" aria-controls="description-tab-pane" aria-selected="true">
									<span>{{ "detail.tabsDescription"|trans|sw_sanitize }}</span>
									<span class="product-detail-tab-navigation-icon">
										{% sw_icon 'arrow-medium-right' style {'pack':'solid'} %}
									</span>
									{% if page.product.translated.description|length > 0 %}
										<span class="product-detail-tab-preview">
											{{ page.product.translated.description|raw|striptags|sw_sanitize|u.truncate(125, '…') }}

											{# truncate always cuts down the length to 125 characters.
											                                               So it will only shorten the string if it exceeds 125 chars.
											                                               Therefor, only show the button when the length of the text is
											                                               greater or equal then 126 characters. #}
											{% if page.product.translated.description|length >= 126 %}
												<span class="product-detail-tab-preview-more">{{ "detail.tabsPreviewMore"|trans|sw_sanitize }}</span>
											{% endif %}
										</span>
									{% endif %}
								</a>
							</li>
						{% endblock %}
						{% block page_product_detail_tabs_navigation_details %}
							<li class="nav-item">
								<a class="nav-link product-detail-tab-navigation-link" id="details-tab" {{ dataBsToggleAttr }}="tab" data-offcanvas-tabs="false" href="#details-tab-pane" role="tab" aria-controls="details-tab-pane" aria-selected="true">
									<span>Produktdetails</span>
									<span class="product-detail-tab-navigation-icon">
										{% sw_icon 'arrow-medium-right' style {'pack':'solid'} %}
									</span>
									{% if page.product.translated.description|length > 0 %}
										<span class="product-detail-tab-preview">
											{{ page.product.translated.description|raw|striptags|sw_sanitize|u.truncate(125, '…') }}

											{# truncate always cuts down the length to 125 characters.
											                                               So it will only shorten the string if it exceeds 125 chars.
											                                               Therefor, only show the button when the length of the text is
											                                               greater or equal then 126 characters. #}
											{% if page.product.translated.description|length >= 126 %}
												<span class="product-detail-tab-preview-more">{{ "detail.tabsPreviewMore"|trans|sw_sanitize }}</span>
											{% endif %}
										</span>
									{% endif %}
								</a>
							</li>
						{% endblock %}
						{% block page_product_detail_tabs_navigation_storage %}{# <li class="nav-item">
							                                <a class="nav-link product-detail-tab-navigation-link"
							                                   id="storage-tab"
							                                   {{ dataBsToggleAttr }}="tab"
							                                   data-offcanvas-tabs="true"
							                                   href="#storage-tab-pane"
							                                   role="tab"
							                                   aria-controls="storage-tab-pane"
							                                   aria-selected="true">
							                                    <span>Haltbarkeit</span>
							                                    <span class="product-detail-tab-navigation-icon">
							                                        {% sw_icon 'arrow-medium-right' style {'pack':'solid'} %}
							                                    </span>
							                                    {% if page.product.translated.description|length > 0 %}
							                                        <span class="product-detail-tab-preview">
							                                            {{ page.product.translated.description|raw|striptags|sw_sanitize|u.truncate(125, '…') }}
							
							                                            {# truncate always cuts down the length to 125 characters.
							                                               So it will only shorten the string if it exceeds 125 chars.
							                                               Therefor, only show the button when the length of the text is
							                                               greater or equal then 126 characters. #}
							{# {% if page.product.translated.description|length >= 126 %}
							                                                <span class="product-detail-tab-preview-more">{{ "detail.tabsPreviewMore"|trans|sw_sanitize }}</span>
							                                            {% endif %}
							                                        </span>
							                                    {% endif %}
							                                </a>
							                            </li> #}
						{% endblock %}
						{% block page_product_detail_tabs_navigation_allergies %}
							<li class="nav-item">
								<a class="nav-link product-detail-tab-navigation-link" id="allergies-tab" {{ dataBsToggleAttr }}="tab" data-offcanvas-tabs="true" href="#allergies-tab-pane" role="tab" aria-controls="allergies-tab-pane" aria-selected="true">
									<span>Nährwerte & Allergene</span>
									<span class="product-detail-tab-navigation-icon">
										{% sw_icon 'arrow-medium-right' style {'pack':'solid'} %}
									</span>
									{% if page.product.translated.description|length > 0 %}
										<span class="product-detail-tab-preview">
											{{ page.product.translated.description|raw|striptags|sw_sanitize|u.truncate(125, '…') }}

											{# truncate always cuts down the length to 125 characters.
											                                               So it will only shorten the string if it exceeds 125 chars.
											                                               Therefor, only show the button when the length of the text is
											                                               greater or equal then 126 characters. #}
											{% if page.product.translated.description|length >= 126 %}
												<span class="product-detail-tab-preview-more">{{ "detail.tabsPreviewMore"|trans|sw_sanitize }}</span>
											{% endif %}
										</span>
									{% endif %}
								</a>
							</li>
						{% endblock %}
						{% block page_product_detail_tabs_navigation_review %}
							{% if config('core.listing.showReview') %}
								<li class="nav-item">
									<a class="nav-link  product-detail-tab-navigation-link" id="review-tab" {{ dataBsToggleAttr }}="tab" data-offcanvas-tabs="true" href="#review-tab-pane" role="tab" aria-controls="review-tab-pane" aria-selected="true">
										{{ "detail.tabsReview"|trans|sw_sanitize }}
										<span class="product-detail-tab-navigation-icon">
											{% sw_icon 'arrow-medium-right' style {'pack':'solid'} %}
										</span>
									</a>
								</li>
							{% endif %}
						{% endblock %}
					</ul>
				{% endblock %}
			</div>
		{% endblock %}

		{% block page_product_detail_tabs_content %}
			<div class="product-detail-tabs-content card-body">
				{% block page_product_detail_tabs_content_container %}
					<div class="tab-content">
						{% block page_product_detail_tabs_content_description %}
							<div class="tab-pane fade show active" id="description-tab-pane" role="tabpanel" aria-labelledby="description-tab">
								{% sw_include '@Storefront/storefront/page/product-detail/description.html.twig' %}
							</div>
						{% endblock %}
						{% block page_product_detail_tabs_content_details %}
							<div class="tab-pane fade show " id="details-tab-pane" role="tabpanel" aria-labelledby="details-tab">
								{% sw_include '@Storefront/storefront/page/product-detail/details.html.twig' %}
							</div>
						{% endblock %}
						{% block page_product_detail_tabs_content_storage %}
							{# <div class="tab-pane fade show "
							                                 id="storage-tab-pane"
							                                 role="tabpanel"
							                                 aria-labelledby="storage-tab">
							                                {% sw_include '@Storefront/storefront/page/product-detail/storage.html.twig' %}
							                            </div> #}
						{% endblock %}
						{% block page_product_detail_tabs_content_allergies %}
							<div class="tab-pane fade show " id="allergies-tab-pane" role="tabpanel" aria-labelledby="allergies-tab">
								{% sw_include '@Storefront/storefront/page/product-detail/allergies.html.twig' %}
							</div>
						{% endblock %}

						{% block page_product_detail_tabs_content_review %}
							{% if tsChannelId is not null %}
								{% if tsConfig[tsChannelId].widgets is defined and expectedMapping[tsChannelId] === tsConfig[tsChannelId].widgets.eTrustedChannelRef %}
									{% set product = page.product %}

									{% if page.product.parentId %}
										{% if page.extensions.tsParentProduct is defined and not null %}
											{% set product = page.extensions.tsParentProduct %}
										{% endif %}
									{% endif %}
									<!-- added by Trusted Shops app: Start -->
									<div class="tab-pane fade show" id="review-tab-pane" role="tabpanel" aria-labelledby="review-tab-pane">
										{% sw_include '@Storefront/storefront/page/product-detail/offcanvas/ts-description.html.twig' %}
									</div>
									<!-- End -->
								{% endif %}
							{% endif %}
						{% endblock %}
					</div>
				{% endblock %}
			</div>
		{% endblock %}
	</div>
{% endblock %}
